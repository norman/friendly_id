<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: Guide
  
    &mdash; Documentation by YARD 0.8.7
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: Guide</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'>
<p>#encoding: utf-8</p>

<h2 id="label-About+FriendlyId">About FriendlyId</h2>

<p>FriendlyId is an add-on to Ruby&#39;s Active Record that allows you to
replace ids in your URLs with strings:</p>

<pre class="code ruby"><code class="ruby"><span class='comment'># without FriendlyId
</span><span class='id identifier rubyid_http'>http</span><span class='symbol'>:/</span><span class='op'>/</span><span class='id identifier rubyid_example'>example</span><span class='period'>.</span><span class='id identifier rubyid_com'>com</span><span class='op'>/</span><span class='id identifier rubyid_states'>states</span><span class='op'>/</span><span class='int'>4323454</span>

<span class='comment'># with FriendlyId
</span><span class='id identifier rubyid_http'>http</span><span class='symbol'>:/</span><span class='op'>/</span><span class='id identifier rubyid_example'>example</span><span class='period'>.</span><span class='id identifier rubyid_com'>com</span><span class='op'>/</span><span class='id identifier rubyid_states'>states</span><span class='op'>/</span><span class='id identifier rubyid_washington'>washington</span></code></pre>

<p>It requires few changes to your application code and offers flexibility,
performance and a well-documented codebase.</p>

<h3 id="label-Core+Concepts">Core Concepts</h3>

<h4 id="label-Slugs">Slugs</h4>

<p>The concept of “<a
href="http://en.wikipedia.org/wiki/Slug_(web_publishing)">slugs</a>” is at
the heart of FriendlyId.</p>

<p>A slug is the part of a URL which identifies a page using human-readable
keywords, rather than an opaque identifier such as a numeric id. This can
make your application more friendly both for users and search engine.</p>

<h4 id="label-Finders%3A+Slugs+Act+Like+Numeric+IDs">Finders: Slugs Act Like Numeric IDs</h4>

<p>To the extent possible, FriendlyId lets you treat text-based identifiers
like normal IDs. This means that you can perform finds with slugs just like
you do with numeric ids:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='int'>82542335</span><span class='rparen'>)</span>
<span class='const'>Person</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>joe</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>

<h2 id="label-Setting+Up+FriendlyId+in+Your+Model">Setting Up FriendlyId in Your Model</h2>

<p>To use FriendlyId in your ActiveRecord models, you must first either extend
or include the FriendlyId module (it makes no difference), then invoke the
<span class='object_link'><a href="FriendlyId/Base.html#friendly_id-instance_method" title="FriendlyId::Base#friendly_id (method)">friendly_id</a></span> method to configure your desired
options:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Foo</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">include</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">bar</span>, :<span class="ruby-identifier">use</span> =<span class="ruby-operator">&gt;</span> [:<span class="ruby-identifier">slugged</span>, :<span class="ruby-identifier">simple_i18n</span>]
<span class="ruby-keyword">end</span>
</pre>

<p>The most important option is `:use`, which you use to tell FriendlyId which
addons it should use. See the documentation for this method for a list of
all available addons, or skim through the rest of the docs to get a
high-level overview.</p>

<h3 id="label-The+Default+Setup%3A+Simple+Models">The Default Setup: Simple Models</h3>

<p>The simplest way to use FriendlyId is with a model that has a uniquely
indexed column with no spaces or special characters, and that is seldom or
never updated. The most common example of this is a user name:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">User</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">login</span>
  <span class="ruby-identifier">validates_format_of</span> :<span class="ruby-identifier">login</span>, :<span class="ruby-identifier">with</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/\A[a-z0-9]+\z/</span>
<span class="ruby-keyword">end</span>

<span class="ruby-ivar">@user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span> <span class="ruby-string">&quot;joe&quot;</span>   <span class="ruby-comment"># the old User.find(1) still works, too</span>
<span class="ruby-ivar">@user</span>.<span class="ruby-identifier">to_param</span>            <span class="ruby-comment"># returns &quot;joe&quot;</span>
<span class="ruby-identifier">redirect_to</span> <span class="ruby-ivar">@user</span>         <span class="ruby-comment"># the URL will be /users/joe</span>
</pre>

<p>In this case, FriendlyId assumes you want to use the column as-is; it will
never modify the value of the column, and your application should ensure
that the value is unique and admissible in a URL:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">City</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span>

<span class="ruby-ivar">@city</span>.<span class="ruby-identifier">find</span> <span class="ruby-string">&quot;Viña del Mar&quot;</span>
<span class="ruby-identifier">redirect_to</span> <span class="ruby-ivar">@city</span> <span class="ruby-comment"># the URL will be /cities/Viña%20del%20Mar</span>
</pre>

<p>Writing the code to process an arbitrary string into a good identifier for
use in a URL can be repetitive and surprisingly tricky, so for this reason
it&#39;s often better and easier to use <span class='object_link'><a href="FriendlyId/Slugged.html" title="FriendlyId::Slugged (module)">slugs</a></span>.</p>

<h2 id="label-Slugged+Models">Slugged Models</h2>

<p>FriendlyId can use a separate column to store slugs for models which
require some text processing.</p>

<p>For example, blog applications typically use a post title to provide the
basis of a search engine friendly URL. Such identifiers typically lack
uppercase characters, use ASCII to approximate UTF-8 character, and strip
out other characters which may make them aesthetically unappealing or
error-prone when used in a URL.</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Post</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">title</span>, :<span class="ruby-identifier">use</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">slugged</span>
<span class="ruby-keyword">end</span>

<span class="ruby-ivar">@post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">create</span>(:<span class="ruby-identifier">title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;This is the first post!&quot;</span>)
<span class="ruby-ivar">@post</span>.<span class="ruby-identifier">friendly_id</span>   <span class="ruby-comment"># returns &quot;this-is-the-first-post&quot;</span>
<span class="ruby-identifier">redirect_to</span> <span class="ruby-ivar">@post</span>   <span class="ruby-comment"># the URL will be /posts/this-is-the-first-post</span>
</pre>

<p>In general, use slugs by default unless you know for sure you don&#39;t
need them. To activate the slugging functionality, use the
<span class='object_link'><a href="FriendlyId/Slugged.html" title="FriendlyId::Slugged (module)">FriendlyId::Slugged</a></span> module.</p>

<p>FriendlyId will generate slugs from a method or column that you specify,
and store them in a field in your model. By default, this field must be
named <code>:slug</code>, though you may change this using the
<span class='object_link'><a href="FriendlyId/Slugged/Configuration.html#slug_column-instance_method" title="FriendlyId::Slugged::Configuration#slug_column (method)">slug_column</a></span> configuration
option. You should add an index to this column, and in most cases, make it
unique. You may also wish to constrain it to NOT NULL, but this depends on
your app&#39;s behavior and requirements.</p>

<h3 id="label-Example+Setup">Example Setup</h3>

<pre class="ruby"><span class="ruby-comment"># your model</span>
<span class="ruby-keyword">class</span> <span class="ruby-constant">Post</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">title</span>, :<span class="ruby-identifier">use</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">slugged</span>
  <span class="ruby-identifier">validates_presence_of</span> :<span class="ruby-identifier">title</span>, :<span class="ruby-identifier">slug</span>, :<span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span>

<span class="ruby-comment"># a migration</span>
<span class="ruby-keyword">class</span> <span class="ruby-constant">CreatePosts</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Migration</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">up</span>
    <span class="ruby-identifier">create_table</span> :<span class="ruby-identifier">posts</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">string</span> :<span class="ruby-identifier">title</span>, :<span class="ruby-identifier">null</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">string</span> :<span class="ruby-identifier">slug</span>, :<span class="ruby-identifier">null</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">text</span> :<span class="ruby-identifier">body</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">add_index</span> :<span class="ruby-identifier">posts</span>, :<span class="ruby-identifier">slug</span>, :<span class="ruby-identifier">unique</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">down</span>
    <span class="ruby-identifier">drop_table</span> :<span class="ruby-identifier">posts</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-Working+With+Slugs">Working With Slugs</h3>

<h4 id="label-Formatting">Formatting</h4>

<p>By default, FriendlyId uses Active Support&#39;s <a
href="http://api.rubyonrails.org/classes/ActiveSupport/Inflector.html#method-i-parameterize">paramaterize</a>
method to create slugs. This method will intelligently replace spaces with
dashes, and Unicode Latin characters with ASCII approximations:</p>

<pre class="ruby"><span class="ruby-identifier">movie</span> = <span class="ruby-constant">Movie</span>.<span class="ruby-identifier">create!</span> :<span class="ruby-identifier">title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Der Preis fürs Überleben&quot;</span>
<span class="ruby-identifier">movie</span>.<span class="ruby-identifier">slug</span> <span class="ruby-comment">#=&gt; &quot;der-preis-furs-uberleben&quot;</span>
</pre>

<h4 id="label-Uniqueness">Uniqueness</h4>

<p>When you try to insert a record that would generate a duplicate friendly
id, FriendlyId will append a sequence to the generated slug to ensure
uniqueness:</p>

<pre class="ruby"><span class="ruby-identifier">car</span> = <span class="ruby-constant">Car</span>.<span class="ruby-identifier">create</span> :<span class="ruby-identifier">title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Peugot 206&quot;</span>
<span class="ruby-identifier">car2</span> = <span class="ruby-constant">Car</span>.<span class="ruby-identifier">create</span> :<span class="ruby-identifier">title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Peugot 206&quot;</span>

<span class="ruby-identifier">car</span>.<span class="ruby-identifier">friendly_id</span> <span class="ruby-comment">#=&gt; &quot;peugot-206&quot;</span>
<span class="ruby-identifier">car2</span>.<span class="ruby-identifier">friendly_id</span> <span class="ruby-comment">#=&gt; &quot;peugot-206--2&quot;</span>
</pre>

<h4 id="label-Sequence+Separator+-+The+Two+Dashes">Sequence Separator - The Two Dashes</h4>

<p>By default, FriendlyId uses two dashes to separate the slug from a
sequence.</p>

<p>You can change this with the
<span class='object_link'><a href="FriendlyId/Slugged/Configuration.html#sequence_separator-instance_method" title="FriendlyId::Slugged::Configuration#sequence_separator (method)">sequence_separator</a></span>
configuration option.</p>

<h4 id="label-Column+or+Method%3F">Column or Method?</h4>

<p>FriendlyId always uses a method as the basis of the slug text - not a
column. It first glance, this may sound confusing, but remember that Active
Record provides methods for each column in a model&#39;s associated table,
and that&#39;s what FriendlyId uses.</p>

<p>Here&#39;s an example of a class that uses a custom method to generate the
slug:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Person</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">name_and_location</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">name_and_location</span>
    <span class="ruby-node">&quot;#{name} from #{location}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">bob</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">create!</span> :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Bob Smith&quot;</span>, :<span class="ruby-identifier">location</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;New York City&quot;</span>
<span class="ruby-identifier">bob</span>.<span class="ruby-identifier">friendly_id</span> <span class="ruby-comment">#=&gt; &quot;bob-smith-from-new-york-city&quot;</span>
</pre>

<h4 id="label-Providing+Your+Own+Slug+Processing+Method">Providing Your Own Slug Processing Method</h4>

<p>You can override <span class='object_link'><a href="FriendlyId/Slugged.html#normalize_friendly_id-instance_method" title="FriendlyId::Slugged#normalize_friendly_id (method)">FriendlyId::Slugged#normalize_friendly_id</a></span> in your model
for total control over the slug format.</p>

<h4 id="label-Deciding+When+to+Generate+New+Slugs">Deciding When to Generate New Slugs</h4>

<p>Overriding <span class='object_link'><a href="FriendlyId/Slugged.html#should_generate_new_friendly_id%3F-instance_method" title="FriendlyId::Slugged#should_generate_new_friendly_id? (method)">FriendlyId::Slugged#should_generate_new_friendly_id?</a></span> lets you
control whether new friendly ids are created when a model is updated. For
example, if you only want to generate slugs once and then treat them as
read-only:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Post</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">title</span>, :<span class="ruby-identifier">use</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">slugged</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">should_generate_new_friendly_id?</span>
    <span class="ruby-identifier">new_record?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">create!</span>(:<span class="ruby-identifier">title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Hello world!&quot;</span>)
<span class="ruby-identifier">post</span>.<span class="ruby-identifier">slug</span> <span class="ruby-comment">#=&gt; &quot;hello-world&quot;</span>
<span class="ruby-identifier">post</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;Hello there, world!&quot;</span>
<span class="ruby-identifier">post</span>.<span class="ruby-identifier">save!</span>
<span class="ruby-identifier">post</span>.<span class="ruby-identifier">slug</span> <span class="ruby-comment">#=&gt; &quot;hello-world&quot;</span>
</pre>

<h4 id="label-Locale-specific+Transliterations">Locale-specific Transliterations</h4>

<p>Active Support&#39;s <code>parameterize</code> uses <a
href="http://api.rubyonrails.org/classes/ActiveSupport/Inflector.html#method-i-transliterate">transliterate</a>,
which in turn can use I18n&#39;s transliteration rules to consider the
current locale when replacing Latin characters:</p>

<pre class="ruby"><span class="ruby-comment"># config/locales/de.yml</span>
<span class="ruby-identifier">de</span><span class="ruby-operator">:</span>
  <span class="ruby-identifier">i18n</span><span class="ruby-operator">:</span>
    <span class="ruby-identifier">transliterate</span><span class="ruby-operator">:</span>
      <span class="ruby-identifier">rule</span><span class="ruby-operator">:</span>
        <span class="ruby-identifier">ü</span><span class="ruby-operator">:</span> <span class="ruby-string">&quot;ue&quot;</span>
        <span class="ruby-identifier">ö</span><span class="ruby-operator">:</span> <span class="ruby-string">&quot;oe&quot;</span>
        <span class="ruby-identifier">etc</span><span class="ruby-operator">...</span>

<span class="ruby-identifier">movie</span> = <span class="ruby-constant">Movie</span>.<span class="ruby-identifier">create!</span> :<span class="ruby-identifier">title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Der Preis fürs Überleben&quot;</span>
<span class="ruby-identifier">movie</span>.<span class="ruby-identifier">slug</span> <span class="ruby-comment">#=&gt; &quot;der-preis-fuers-ueberleben&quot;</span>
</pre>

<p>This functionality was in fact taken from earlier versions of FriendlyId.</p>

<h4 id="label-Gotchas%3A+Common+Problems">Gotchas: Common Problems</h4>

<h5 id="label-Slugs+That+Begin+With+Numbers">Slugs That Begin With Numbers</h5>

<p>Ruby&#39;s `to_i` function casts strings to integers in such a way that
<code>23abc.to_i</code> returns 23. Because FriendlyId falls back to
finding by numeric id, this means that if you attempt to find a record with
a non-existant slug, and that slug begins with a number, your find will
probably return the wrong record.</p>

<p>There are two fairly simple ways to avoid this:</p>
<ul><li>
<p>Use validations to ensure that slugs don&#39;t begin with numbers.</p>
</li><li>
<p>Use explicit finders like <code>find_by_id</code> to always find by the
numeric id, or <code>find_by_slug</code> to always find using the friendly
id.</p>
</li></ul>

<h5 id="label-Concurrency+Issues">Concurrency Issues</h5>

<p>FriendlyId uses a before_validation callback to generate and set the slug.
This means that if you create two model instances before saving them,
it&#39;s possible they will generate the same slug, and the second save
will fail.</p>

<p>This can happen in two fairly normal cases: the first, when a model using
nested attributes creates more than one record for a model that uses
friendly_id. The second, in concurrent code, either in threads or multiple
processes.</p>

<p>To solve the nested attributes issue, I recommend simply avoiding them when
creating more than one nested record for a model that uses FriendlyId. See
<a href="https://github.com/norman/friendly_id/issues/185">this Github
issue</a> for discussion.</p>

<p>To solve the concurrency issue, I recommend locking the model&#39;s table
against inserts while when saving the record. See <a
href="https://github.com/norman/friendly_id/issues/180">this Github
issue</a> for discussion.</p>

<h2 id="label-History%3A+Avoiding+404%27s+When+Slugs+Change">History: Avoiding 404&#39;s When Slugs Change</h2>

<p>FriendlyId&#39;s <span class='object_link'><a href="FriendlyId/History.html" title="FriendlyId::History (module)">History</a></span> module adds the ability to
store a log of a model&#39;s slugs, so that when its friendly id changes,
it&#39;s still possible to perform finds by the old id.</p>

<p>The primary use case for this is avoiding broken URLs.</p>

<h3 id="label-Setup">Setup</h3>

<p>In order to use this module, you must add a table to your database schema
to store the slug records. FriendlyId provides a generator for this
purpose:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_rails'>rails</span> <span class='id identifier rubyid_generate'>generate</span> <span class='id identifier rubyid_friendly_id'>friendly_id</span>
<span class='id identifier rubyid_rake'>rake</span> <span class='label'>db:</span><span class='id identifier rubyid_migrate'>migrate</span></code></pre>

<p>This will add a table named <code>friendly_id_slugs</code>, used by the
<span class='object_link'><a href="FriendlyId/Slug.html" title="FriendlyId::Slug (class)">FriendlyId::Slug</a></span> model.</p>

<h3 id="label-Considerations">Considerations</h3>

<p>This module is incompatible with the <code>:scoped</code> module.</p>

<p>Because recording slug history requires creating additional database
records, this module has an impact on the performance of the associated
model&#39;s <code>create</code> method.</p>

<h3 id="label-Example">Example</h3>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Post</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">title</span>, :<span class="ruby-identifier">use</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">history</span>
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">PostsController</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ApplicationController</span>

  <span class="ruby-identifier">before_filter</span> :<span class="ruby-identifier">find_post</span>

  <span class="ruby-operator">...</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">find_post</span>
    <span class="ruby-ivar">@post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">find</span> <span class="ruby-identifier">params</span>[:<span class="ruby-identifier">id</span>]

    <span class="ruby-comment"># If an old id or a numeric id was used to find the record, then</span>
    <span class="ruby-comment"># the request path will not match the post_path, and we should do</span>
    <span class="ruby-comment"># a 301 redirect that uses the current friendly id.</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">post_path</span>(<span class="ruby-ivar">@post</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-identifier">redirect_to</span> <span class="ruby-ivar">@post</span>, :<span class="ruby-identifier">status</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">moved_permanently</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<h2 id="label-Unique+Slugs+by+Scope">Unique Slugs by Scope</h2>

<p>The <span class='object_link'><a href="FriendlyId/Scoped.html" title="FriendlyId::Scoped (module)">FriendlyId::Scoped</a></span> module allows FriendlyId to generate unique slugs
within a scope.</p>

<p>This allows, for example, two restaurants in different cities to have the
slug <code>joes-diner</code>:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Restaurant</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">belongs_to</span> :<span class="ruby-identifier">city</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">name</span>, :<span class="ruby-identifier">use</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">scoped</span>, :<span class="ruby-identifier">scope</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">city</span>
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">City</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">has_many</span> :<span class="ruby-identifier">restaurants</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">name</span>, :<span class="ruby-identifier">use</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">slugged</span>
<span class="ruby-keyword">end</span>

<span class="ruby-constant">City</span>.<span class="ruby-identifier">find</span>(<span class="ruby-string">&quot;seattle&quot;</span>).<span class="ruby-identifier">restaurants</span>.<span class="ruby-identifier">find</span>(<span class="ruby-string">&quot;joes-diner&quot;</span>)
<span class="ruby-constant">City</span>.<span class="ruby-identifier">find</span>(<span class="ruby-string">&quot;chicago&quot;</span>).<span class="ruby-identifier">restaurants</span>.<span class="ruby-identifier">find</span>(<span class="ruby-string">&quot;joes-diner&quot;</span>)
</pre>

<p>Without :scoped in this case, one of the restaurants would have the slug
<code>joes-diner</code> and the other would have
<code>joes-diner--2</code>.</p>

<p>The value for the <code>:scope</code> option can be the name of a
<code>belongs_to</code> relation, or a column.</p>

<p>Additionally, the <code>:scope</code> option can receive an array of scope
values:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Cuisine</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">has_many</span> :<span class="ruby-identifier">restaurants</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">name</span>, :<span class="ruby-identifier">use</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">slugged</span>
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">City</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">has_many</span> :<span class="ruby-identifier">restaurants</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">name</span>, :<span class="ruby-identifier">use</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">slugged</span>
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">Restaurant</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">belongs_to</span> :<span class="ruby-identifier">city</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">name</span>, :<span class="ruby-identifier">use</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">scoped</span>, :<span class="ruby-identifier">scope</span> =<span class="ruby-operator">&gt;</span> [:<span class="ruby-identifier">city</span>, :<span class="ruby-identifier">cuisine</span>]
<span class="ruby-keyword">end</span>
</pre>

<p>All supplied values will be used to determine scope.</p>

<h3 id="label-Finding+Records+by+Friendly+ID">Finding Records by Friendly ID</h3>

<p>If you are using scopes your friendly ids may not be unique, so a simple
find like</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Restaurant</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>joes-diner</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>

<p>may return the wrong record. In these cases it&#39;s best to query through
the relation:</p>

<pre class="code ruby"><code class="ruby"><span class='ivar'>@city</span><span class='period'>.</span><span class='id identifier rubyid_restaurants'>restaurants</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>joes-diner</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>

<p>Alternatively, you could pass the scope value as a query parameter:</p>

<pre class="ruby"><span class="ruby-constant">Restaurant</span>.<span class="ruby-identifier">find</span>(<span class="ruby-string">&quot;joes-diner&quot;</span>).<span class="ruby-identifier">where</span>(:<span class="ruby-identifier">city_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@city</span>.<span class="ruby-identifier">id</span>)
</pre>

<h3 id="label-Finding+All+Records+That+Match+a+Scoped+ID">Finding All Records That Match a Scoped ID</h3>

<p>Query the slug column directly:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Restaurant</span><span class='period'>.</span><span class='id identifier rubyid_find_all_by_slug'>find_all_by_slug</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>joes-diner</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>

<h3 id="label-Routes+for+Scoped+Models">Routes for Scoped Models</h3>

<p>Recall that FriendlyId is a database-centric library, and does not set up
any routes for scoped models. You must do this yourself in your
application. Here&#39;s an example of one way to set this up:</p>

<pre class="code ruby"><code class="ruby"># in routes.rb
resources :cities do
  resources :restaurants
end

# in views
&lt;%= link_to &#39;Show&#39;, [@city, @restaurant] %&gt;

# in controllers
@city = City.find(params[:city_id])
@restaurant = @city.restaurants.find(params[:id])

# URLs:
http://example.org/cities/seattle/restaurants/joes-diner
http://example.org/cities/chicago/restaurants/joes-diner</code></pre>

<h2 id="label-Translating+Slugs+Using+Simple+I18n">Translating Slugs Using Simple I18n</h2>

<p>The <span class='object_link'><a href="FriendlyId/SimpleI18n.html" title="FriendlyId::SimpleI18n (module)">SimpleI18n</a></span> module adds very basic i18n support
to FriendlyId.</p>

<p>In order to use this module, your model must have a slug column for each
locale. By default FriendlyId looks for columns named, for example,
“slug_en”, “slug_es”, etc. The first part of the name can be configured by
passing the <code>:slug_column</code> option if you choose. Note that the
column for the default locale must also include the locale in its name.</p>

<p>This module is most suitable to applications that need to support few
locales. If you need to support two or more locales, you may wish to use
the <span class='object_link'><a href="FriendlyId/Globalize.html" title="FriendlyId::Globalize (module)">Globalize</a></span> module instead.</p>

<h3 id="label-Example+migration">Example migration</h3>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">up</span>
  <span class="ruby-identifier">create_table</span> :<span class="ruby-identifier">posts</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">string</span> :<span class="ruby-identifier">title</span>
    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">string</span> :<span class="ruby-identifier">slug_en</span>
    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">string</span> :<span class="ruby-identifier">slug_es</span>
    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">text</span>   :<span class="ruby-identifier">body</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">add_index</span> :<span class="ruby-identifier">posts</span>, :<span class="ruby-identifier">slug_en</span>
  <span class="ruby-identifier">add_index</span> :<span class="ruby-identifier">posts</span>, :<span class="ruby-identifier">slug_es</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-Finds">Finds</h3>

<p>Finds will take into consideration the current locale:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_locale'>locale</span> <span class='op'>=</span> <span class='symbol'>:es</span>
<span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>la-guerra-de-las-galaxas</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_locale'>locale</span> <span class='op'>=</span> <span class='symbol'>:en</span>
<span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>star-wars</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>

<p>To find a slug by an explicit locale, perform the find inside a block
passed to I18n&#39;s <code>with_locale</code> method:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_with_locale'>with_locale</span><span class='lparen'>(</span><span class='symbol'>:es</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>la-guerra-de-las-galaxas</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></code></pre>

<h3 id="label-Creating+Records">Creating Records</h3>

<p>When new records are created, the slug is generated for the current locale
only.</p>

<h3 id="label-Translating+Slugs">Translating Slugs</h3>

<p>To translate an existing record&#39;s friendly_id, use
<span class='object_link'><a href="FriendlyId/SimpleI18n/Model.html#set_friendly_id-instance_method" title="FriendlyId::SimpleI18n::Model#set_friendly_id (method)">FriendlyId::SimpleI18n::Model#set_friendly_id</a></span>. This will ensure that the
slug you add is properly escaped, transliterated and sequenced:</p>

<pre class="ruby"><span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">create</span> :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Star Wars&quot;</span>
<span class="ruby-identifier">post</span>.<span class="ruby-identifier">set_friendly_id</span>(<span class="ruby-string">&quot;La guerra de las galaxas&quot;</span>, :<span class="ruby-identifier">es</span>)
</pre>

<p>If you don&#39;t pass in a locale argument, FriendlyId::SimpleI18n will
just use the current locale:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_with_locale'>with_locale</span><span class='lparen'>(</span><span class='symbol'>:es</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_post'>post</span><span class='period'>.</span><span class='id identifier rubyid_set_friendly_id'>set_friendly_id</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La guerra de las galaxas</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></code></pre>

<h2 id="label-Translating+Slugs+Using+Globalize">Translating Slugs Using Globalize</h2>

<p>The <span class='object_link'><a href="FriendlyId/Globalize.html" title="FriendlyId::Globalize (module)">Globalize</a></span> module lets you use <a
href="https://github.com/svenfuchs/globalize3">Globalize</a> to translate
slugs. This module is most suitable for applications that need to be
localized to many languages. If your application only needs to be localized
to one or two languages, you may wish to consider the
<span class='object_link'><a href="FriendlyId/SimpleI18n.html" title="FriendlyId::SimpleI18n (module)">SimpleI18n</a></span> module.</p>

<p>In order to use this module, your model&#39;s table and translation table
must both have a slug column, and your model must set the <code>slug</code>
field as translatable with Globalize:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Post</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">translates</span> :<span class="ruby-identifier">title</span>, :<span class="ruby-identifier">slug</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">title</span>, :<span class="ruby-identifier">use</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">globalize</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-Finds">Finds</h3>

<p>Finds will take the current locale into consideration:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_locale'>locale</span> <span class='op'>=</span> <span class='symbol'>:it</span>
<span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>guerre-stellari</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_locale'>locale</span> <span class='op'>=</span> <span class='symbol'>:en</span>
<span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>star-wars</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>

<p>Additionally, finds will fall back to the default locale:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_locale'>locale</span> <span class='op'>=</span> <span class='symbol'>:it</span>
<span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>star-wars</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>

<p>To find a slug by an explicit locale, perform the find inside a block
passed to I18n&#39;s <code>with_locale</code> method:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_with_locale'>with_locale</span><span class='lparen'>(</span><span class='symbol'>:it</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='const'>Post</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>guerre-stellari</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span></code></pre>

<h3 id="label-Creating+Records">Creating Records</h3>

<p>When new records are created, the slug is generated for the current locale
only.</p>

<h3 id="label-Translating+Slugs">Translating Slugs</h3>

<p>To translate an existing record&#39;s friendly_id, use
<span class='object_link'><a href="FriendlyId/Globalize/Model.html#set_friendly_id-instance_method" title="FriendlyId::Globalize::Model#set_friendly_id (method)">FriendlyId::Globalize::Model#set_friendly_id</a></span>. This will ensure that the
slug you add is properly escaped, transliterated and sequenced:</p>

<pre class="ruby"><span class="ruby-identifier">post</span> = <span class="ruby-constant">Post</span>.<span class="ruby-identifier">create</span> :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Star Wars&quot;</span>
<span class="ruby-identifier">post</span>.<span class="ruby-identifier">set_friendly_id</span>(<span class="ruby-string">&quot;Guerre stellari&quot;</span>, :<span class="ruby-identifier">it</span>)
</pre>

<p>If you don&#39;t pass in a locale argument, FriendlyId::Globalize will just
use the current locale:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>I18n</span><span class='period'>.</span><span class='id identifier rubyid_with_locale'>with_locale</span><span class='lparen'>(</span><span class='symbol'>:it</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_post'>post</span><span class='period'>.</span><span class='id identifier rubyid_set_friendly_id'>set_friendly_id</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Guerre stellari</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span></code></pre>

<h2 id="label-Reserved+Words">Reserved Words</h2>

<p>The <span class='object_link'><a href="FriendlyId/Reserved.html" title="FriendlyId::Reserved (module)">Reserved</a></span> module adds the ability to exlude a
list of words from use as FriendlyId slugs.</p>

<p>By default, FriendlyId reserves the words “new” and “edit” when this module
is included. You can configure this globally by using <span class='object_link'><a href="FriendlyId.html#defaults-class_method" title="FriendlyId.defaults (method)">FriendlyId.defaults</a></span>:</p>

<pre class="ruby"><span class="ruby-constant">FriendlyId</span>.<span class="ruby-identifier">defaults</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">config</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">use</span> :<span class="ruby-identifier">reserved</span>
  <span class="ruby-comment"># Reserve words for English and Spanish URLs</span>
  <span class="ruby-identifier">config</span>.<span class="ruby-identifier">reserved_words</span> = <span class="ruby-node">%w(new edit nueva nuevo editar)</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Note that the error message will appear on the field
<code>:friendly_id</code>. If you are using Rails&#39;s scaffolded form
errors display, then it will have no field to highlight. If you&#39;d like
to change this so that scaffolding works as expected, one way to accomplish
this is to move the error message to a different field. For example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Person</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-constant">FriendlyId</span>
  <span class="ruby-identifier">friendly_id</span> :<span class="ruby-identifier">name</span>, <span class="ruby-identifier">use</span><span class="ruby-operator">:</span> :<span class="ruby-identifier">slugged</span>

  <span class="ruby-identifier">after_validation</span> :<span class="ruby-identifier">move_friendly_id_error_to_name</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">move_friendly_id_error_to_name</span>
    <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span> :<span class="ruby-identifier">name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">errors</span>.<span class="ruby-identifier">delete</span>(:<span class="ruby-identifier">friendly_id</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">errors</span>[:<span class="ruby-identifier">friendly_id</span>].<span class="ruby-identifier">present?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
</div></div>

    <div id="footer">
  Generated on Tue Aug 27 04:26:31 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7 (ruby-2.0.0).
</div>

  </body>
</html>